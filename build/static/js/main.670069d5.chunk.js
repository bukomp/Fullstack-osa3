(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,a){e.exports=a(38)},20:function(e,n,a){},38:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(13),c=a.n(o),l=(a(20),a(2)),u=function(e){var n=[];return""!==e.newFilter&&void 0!==e.newFilter&&null!==e.newFilter?e.personData.forEach(function(a){a.name.includes(e.newFilter)&&n.push(r.a.createElement("div",{key:a.name},r.a.createElement("div",null,"".concat(a.name," ").concat(a.number)),r.a.createElement("button",{id:a.id,name:"delete",onClick:e.onDelete},"delete")))}):e.personData&&e.personData.forEach(function(a){n.push(r.a.createElement("div",{key:a.name},r.a.createElement("div",null,"".concat(a.name," ").concat(a.number)),r.a.createElement("button",{id:a.id,name:"delete",onClick:e.onDelete},"delete")))}),n},i=function(e){return r.a.createElement("div",null,"filter shown with",r.a.createElement("input",{name:e.name,value:e.value,onChange:e.onChange}))},m=function(e){var n={margin:"1rem",padding:"1rem",backgroundColor:"#F48A8A",color:"#B41717",border:"0.5rem #B41717 solid"},a={margin:"1rem",padding:"1rem",backgroundColor:"#8CF48A",color:"green",border:"0.5rem green solid"},t={height:"5.35rem",color:"transparent"};return e.data.show&&(t=e.data.error?n:a,setTimeout(function(){e.hideError()},7e3)),r.a.createElement("div",{style:t},e.data.message)},d=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,"name:",r.a.createElement("input",{name:e.nameName,value:e.nameValue,onChange:e.nameOnChange})),r.a.createElement("div",null,"number:",r.a.createElement("input",{name:e.numName,value:e.numValue,onChange:e.numOnChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=a(3),h=a.n(s),f="/api/persons",b=function(){var e=Object(t.useState)(""),n=Object(l.a)(e,2),a=n[0],o=n[1],c=Object(t.useState)(""),s=Object(l.a)(c,2),b=s[0],g=s[1],w=Object(t.useState)(""),v=Object(l.a)(w,2),E=v[0],p=v[1],O=Object(t.useState)({error:!1,show:!1,message:""}),k=Object(l.a)(O,2),C=k[0],y=k[1],j=Object(t.useState)([]),D=Object(l.a)(j,2),F=D[0],S=D[1];Object(t.useEffect)(function(){h.a.get(f).then(function(e){S(e.data)})},[]);var N=function(e,n){y({error:e,show:!0,message:n})},A=function(e){switch(e.target.name){case"name":g(e.target.value);break;case"number":p(e.target.value);break;case"filter":o(e.target.value);break;default:console.log("something went completely wrong")}},B=function(){var e;(e={name:b,number:E},h.a.post(f,e)).then(function(e){console.log(e.data.data),S(e.data.data),g(""),p(""),N(!1,"".concat(b," successfully has been added"))}).catch(function(e){console.log(e),N(!0,"".concat(b," can't be added with error: ").concat(e.response.data))})},V=function(){F.forEach(function(e){var n,a;e.name===b&&(n=e.id,a={name:e.name,number:E},h.a.put(f+"/"+n,a)).then(function(e){S(e.data.data),N(!1,"".concat(b," successfully has been updated"))}).catch(function(e){N(!0,"".concat(b," can't be updated with error: ").concat(e))})})},J=function(e){(function(e){return h.a.delete(f+"/"+e)})(e).then(function(e){console.log(e.data),S(e.data.data),N(!1,"".concat(b," successfully has been removed"))}).catch(function(e){N(!0,"".concat(b," can't be removed with error: ").concat(e))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{data:C,hideError:function(){y({error:!1,show:!1,message:""})}}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(i,{name:"filter",value:a,onChange:A}),r.a.createElement("h2",null,"add a new"),r.a.createElement(d,{nameName:"name",nameValue:b,nameOnChange:A,numName:"number",numValue:E,numOnChange:A,handleSubmit:function(e){e.preventDefault(),F.find(function(e){return e.name===b})?window.confirm("".concat(b," is already added. Replace the old number?"))&&V():B()}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(u,{onDelete:function(e){var n=e.target.id;window.confirm("Are you shure you want to delete this object?")&&J(n)},personData:F,newFilter:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.670069d5.chunk.js.map